<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>Аккаунт</title>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YQ85K7N4J6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-YQ85K7N4J6');
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" type="text/css" th:href="@{/css/homeStyle.css}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
<div th:replace="~{blocks/header :: header}"></div>
<div class="row mx-0">
  <div class="d-none d-md-block col-md-2 px-0"></div>
  <div th:action="${'/'}" class="col-12 col-md-8 px-0">
    <div th:each="el : ${user}" class="container px-3">
      <div class="row">
        <div class="col-9">
          <h1 th:text="${el.getName()}">Имя</h1>
          <h2 th:text="${el.getEmail()}">Логин</h2>
          <p th:text="${el.getDescription()}">Описание</p>
        </div>
        <div class="col-3 d-flex justify-content-center align-items-center">
          <div class="ratio ratio-1x1 w-100">
            <!-- Аватарка, клик по которой открывает модальное окно -->
            <img th:src="@{${user.photoPath}}"
                alt="Фото профиля"
                class="img-fluid rounded-circle object-fit-cover avatar-hover"
                id="userPhoto"
                style="cursor: pointer;"
                data-bs-toggle="modal"
                data-bs-target="#photoModal">
          </div>
        </div>

        <!-- Модальное окно -->
        <div class="modal fade" id="photoModal" tabindex="-1" aria-labelledby="photoModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-xl">
            <div class="modal-content bg-transparent border-0">
              <div class="modal-header border-0">
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body d-flex justify-content-center">
                <img th:src="@{${user.photoPath}}" class="img-fluid" style="max-height:90vh;">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <table class="table mt-3">
      <thead>
        <tr>
          <th scope="col">Id</th>
          <th scope="col">E-mail</th>
          <th scope="col">Name</th>
        </tr>
      </thead>
      <tbody>
      <form>
        <tr th:each="el : ${user}">
          <td scope="row"><h3 th:text="${el.getId()}"></h3></td>
          <td><h3 th:text="${el.getEmail()}"></h3></td>
          <td><h3 th:text="${el.getName()}"></h3></td>
        </tr>
      </form>
    </tbody>
  </table>
  </div>
  <div class="d-none d-md-block col-md-2 px-0"></div>
</div>
<script th:src="@{/js/homeScript.js}"></script>
</body>
</html>